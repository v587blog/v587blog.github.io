<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    
    <meta name="renderer" content="webkit"/>
    <meta name="force-rendering" content="webkit"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <script>if (/*@cc_on!@*/false || (!!window.MSInputMethodContext && !!document.documentMode)) window.location.href="https://support.dmeng.net/upgrade-your-browser.html?referrer="+encodeURIComponent(window.location.href); </script>
    
    
        <link rel="preload" crossorigin="crossorigin" href="/fonts/roboto/Roboto-Regular.woff2" as="font">
        <link rel="preload" crossorigin="crossorigin" href="/fonts/roboto/Roboto-Bold.woff2" as="font">
    
    
    
        <link rel="shortcut icon" href="/icons/favicon.ico">
    
    
    
<link rel="stylesheet" href="/css/mdui.min.css">
<link rel="stylesheet" href="/css/main.css">
<link rel="stylesheet" href="/css/iconfont.css">

    
    

    
        <script data-ad-client="ca-" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    












          


    
    
    <title>
        
            JVM面试题 | Hexo
        
    </title>
    
    
<meta name="generator" content="Hexo 4.2.1"></head>
<body class="mdui-drawer-body-left mdui-appbar-with-toolbar mdui-theme-primary-teal mdui-theme-accent-blue">
  
  <header class="mdui-appbar mdui-appbar-fixed">
  <div id="toolbar" class="mdui-toolbar mdui-color-theme">
    <button class="mdui-btn mdui-btn-icon" mdui-drawer="{target: '#sidebar', swipe: true}"><i class="iconfont icon-menu"></i></button>
    <a href="/" class="mdui-typo-headline">Hexo</a>
    <a href="/" class="header-subtitle mdui-typo-headline"></a>
    <div class="mdui-toolbar-spacer"></div>
    <button class="mdui-btn mdui-btn-icon" mdui-dialog="{target: '#search'}" mdui-tooltip="{content: 'search'}"><i class="iconfont icon-search"></i></button>
  </div>
</header>

<div class="mdui-dialog" id="search">
  
    <div class="search-form">
      <input type="search" class="search-form-input" placeholder="请输入关键字" onfocus="listenSearchFunc()">
    </div>
    <div class="search-result" data-resource="/search.xml"></div>
  
</div>

  <aside id="sidebar" class="mdui-drawer">
    <div class="mdui-tab" mdui-tab>
        <a href="#sidebar-tab1" id="sidebartab" class="mdui-ripple mdui-tab-active">站点概览</a>
        <a href="#sidebar-tab2" id="sidebartab" class="mdui-ripple">关于</a>
    </div>

    
    <div id="sidebar-tab1" class="mdui-p-a-2">
        <div class="mdui-list">
            
                
                <a href="/" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-home"></i>
                    </div>
                    <div class="mdui-list-item-content">主页</div>
                </a>
            
                
                <a href="/tags/" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-bookmark"></i>
                    </div>
                    <div class="mdui-list-item-content">标签</div>
                </a>
            
                
                <a href="/categories/" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-folder"></i>
                    </div>
                    <div class="mdui-list-item-content">分类</div>
                </a>
            
                
                <a href="/archives/" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-archive"></i>
                    </div>
                    <div class="mdui-list-item-content">归档</div>
                </a>
            
                
                <a href="/tools/" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-tools"></i>
                    </div>
                    <div class="mdui-list-item-content">工具箱</div>
                </a>
            
                
                <a href="/about/" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-user"></i>
                    </div>
                    <div class="mdui-list-item-content">关于</div>
                </a>
            
            <div class="mdui-list-item mdui-ripple">
                <div class="mdui-list-item-icon">
                    <i class="iconfont icon-moon"></i>
                </div>
                <div class="mdui-list-item-content">夜间模式</div>
                <label class="mdui-switch" id="darkmode">
                  <input type="checkbox" id="nightmode_switch"/>
                  <i class="mdui-switch-icon"></i>
                </label>
            </div>           
        </div>
    </div>

    
    <div id="sidebar-tab2" class="mdui-p-a-2">
        <div class="sidebar-overview">
            <div class="sidebar-avatar">
                
                    <img src="/icons/avatar.gif"/>
                
            </div>
            <div class="sidebar-author-name">John Doe</div>
            <div class="sidebar-description"></div>
        </div>
        <div class="sidebar-links">
            
                
                <div class="mdui-chip">
                    <span class="mdui-chip-icon"><i class="iconfont icon-mail"></i></span>
                    <a href="mailto:xxx@xxx.com" class="mdui-chip-title">E-Mail</a>
                </div>
            
                
                <div class="mdui-chip">
                    <span class="mdui-chip-icon"><i class="iconfont icon-github"></i></span>
                    <a href="https://your.url" target="_blank" rel="noopener" class="mdui-chip-title">GitHub</a>
                </div>
            
                
                <div class="mdui-chip">
                    <span class="mdui-chip-icon"><i class="iconfont icon-steam"></i></span>
                    <a href="https://your.url" target="_blank" rel="noopener" class="mdui-chip-title">Steam</a>
                </div>
            
                
                <div class="mdui-chip">
                    <span class="mdui-chip-icon"><i class="iconfont icon-weibo"></i></span>
                    <a href="https://your.url" target="_blank" rel="noopener" class="mdui-chip-title">Weibo</a>
                </div>
            
        </div>
        <ul class="mdui-list" mdui-collapse="{accordion: true}">
            <li class="mdui-collapse-item">
                <div class="mdui-collapse-item-header mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-link"></i>
                    </div>
                    <div class="mdui-list-item-content">友情链接</div>
                    <div class="mdui-collapse-item-arrow">
                        <i class="mdui-list-item-icon iconfont icon-angle-down"></i>
                    </div>
                </div>
                <ul class="mdui-collapse-item-body mdui-list mdui-list-dense">
                    
                        <a href="https://garybear.cn/hexo-theme-meadow/" target="_blank" rel="noopener" class="mdui-list-item mdui-ripple">
                            Meadow说明文档
                        </a>
                    
                </ul>
            </li>
        </ul>

    </div>

    <div class="mdui-divider"></div>
    
    
</aside>
  
  <main id="main-contain" class="mdui-container mdui-m-t-5">
    <article id="article" class="mdui-card mdui-p-b-2 mdui-m-b-5">
  <header class="mdui-card-media">
    
    
      <div class="post-header"> 
  <a class="post-header-title" href="/2020/06/29/JVM%E9%9D%A2%E8%AF%95%E9%A2%98/">JVM面试题</a>
  <div class="post-header-meta">
    <span>
      <span class="iconfont icon-calendar"></span>
      发布于:&nbsp;2020-06-29
    </span>
    <span>
      <span class="iconfont icon-calendar-check"></span>
      更新于:&nbsp;2020-06-27
    </span>
    <span>
      <span class="iconfont icon-folder"></span>
      分类于:&nbsp;
    </span>
    
      <span>
        <span class="iconfont icon-eye"></span>
        阅读次数:&nbsp;
        <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv"></span></span>
      </span>
    
  </div>
</div>   
    



    
    
    <div class="mdui-card-menu">
    
      <button class="mdui-btn mdui-btn-icon mdui-text-color-teal" mdui-menu="{target: '#share_menu', align: 'right'}"><i class="iconfont icon-share"></i></button>
      <ul class="mdui-menu" id="share_menu">
        <li class="mdui-menu-item">
          <a href="http://service.weibo.com/share/share.php?appkey=&title=JVM面试题&url=http://yoursite.com/2020/06/29/JVM%E9%9D%A2%E8%AF%95%E9%A2%98/&pic=http://yoursite.com/null&searchPic=false&style=simple" target="_blank" class="mdui-ripple">分享到 Weibo</a>
        </li>
        <li class="mdui-menu-item">
          <a href="https://twitter.com/intent/tweet?text=JVM面试题&url=http://yoursite.com/2020/06/29/JVM%E9%9D%A2%E8%AF%95%E9%A2%98/&via=John Doe" target="_blank" class="mdui-ripple">分享到 Twitter</a>
        </li>
        <li class="mdui-menu-item">
          <a href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2020/06/29/JVM%E9%9D%A2%E8%AF%95%E9%A2%98/" target="_blank" class="mdui-ripple">分享到 Facebook</a>
        </li>
        <li class="mdui-menu-item">
          <a href="https://plus.google.com/share?url=http://yoursite.com/2020/06/29/JVM%E9%9D%A2%E8%AF%95%E9%A2%98/" target="_blank" class="mdui-ripple">分享到 Google+</a>
        </li>
        <li class="mdui-menu-item">
          <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://yoursite.com/2020/06/29/JVM%E9%9D%A2%E8%AF%95%E9%A2%98/&title=JVM面试题" target="_blank" class="mdui-ripple">分享到 LinkedIn</a>
        </li>
        <li class="mdui-menu-item">
          <a href="http://connect.qq.com/widget/shareqq/index.html?site=Hexo&title=JVM面试题&summary=&pics=http://yoursite.com/null&url=http://yoursite.com/2020/06/29/JVM%E9%9D%A2%E8%AF%95%E9%A2%98/" target="_blank" class="mdui-ripple">分享到 QQ</a>
        </li>
        <li class="mdui-menu-item">
          <a href="https://telegram.me/share/url?url=http://yoursite.com/2020/06/29/JVM%E9%9D%A2%E8%AF%95%E9%A2%98/&text=JVM面试题" target="_blank" class="mdui-ripple">分享到 Telegram</a>
        </li>
      </ul>
    
  </div>
  </header>
  
  
  
  
  
  <div class="mdui-card-content mdui-typo mdui-p-x-4">
    <p>JVM面试题-QA清单D1</p>
<h3 id="Q1：Java类加载过程？"><a href="#Q1：Java类加载过程？" class="headerlink" title="Q1：Java类加载过程？"></a>Q1：Java类加载过程？</h3><p>本质：</p>
<p><img src="C:%5CUsers%5CAdministrator%5CDesktop%5C%E9%9D%A2%E8%AF%95%E9%A2%98%5Cjvm%E7%B1%BB%E5%8A%A0%E8%BD%BD.png" alt=""></p>
<p>•  装载。根据查找路径找到相应的 class 文件，然后导入。<br>•  链接。链接又可分为 3 个小步：<br>•  检查，检查待加载的 class 文件的正确性。<br>•  准备，给类中的静态变量分配存储空间。<br>•  解析，将符号引用转换为直接引用（这一步可选）<br>•  初始化。对静态变量和静态代码块执行初始化工作。</p>
<p>具体：</p>
<ol>
<li>加载<br>加载是类加载的第一个过程，在这个阶段，将完成一下<strong>三件事情</strong>：<br>•  <strong>通过一个类的全限定名获取该类的二进制流</strong>。<br>•  <strong>将该二进制流中的静态存储结构转化为方法去运行时数据结</strong></li>
</ol>
<p><strong>构。</strong><br>•  <strong>在内存中生成该类的 Class 对象，作为该类的数据访问入口</strong>。<br>2. 验证<br>验证的目的是为了确保 Class 文件的字节流中的信息不会危害到<br>虚拟机.在该阶段主要完成以下四钟验证:<br>•  <strong>文件格式验证</strong>：验证字节流是否符合 Class 文件的规范，如<br>主次版本号是否在当前虚拟机范围内，常量池中的常量是否<br>有不被支持的类型.<br>•  <strong>元数据验证</strong>:对字节码描述的信息进行语义分析，如这个类是<br>否有父类，是否集成了不被继承的类等。<br>•  <strong>字节码验证</strong>：是整个验证过程中最复杂的一个阶段，通过验<br>证数据流和控制流的分析，确定程序语义是否正确，主要针<br>对方法体的验证。如：方法中的类型转换是否正确，跳转指<br>令是否正确等。<br>•  <strong>符号引用验证</strong>：这个动作在后面的解析过程中发生，主要是<br>为了确保解析动作能正确执行。<br>3. 准备<br>    <strong>准备阶段是为类的静态变量分配内存并将其初始化为默认值</strong>，这些<br>    内存都将在方法区中进行分配。准备阶段不分配类中的实例变量的<br>    内存，实例变量将会在对象实例化时随着对象一起分配在 Java 堆<br>    中。<br>    public static int value=123;//在准备阶段 value 初始值为 0 。在初<br>    始化阶段才会变为 123 。<br>4. 解析<br>    <strong>该阶段主要完成符号引用到直接引用的转换动作</strong>。解析动作并不一<br>    定在初始化动作完成之前，也有可能在初始化之后。<br>5. 初始化<br>    初始化时类加载的最后一步，前面的类加载过程，<strong>除了在加载阶段</strong><br>    <strong>用户应用程序可以通过自定义类加载器参与之外，其余动作完全由</strong><br>    <strong>虚拟机主导和控制。</strong>到了初始化阶段，才真正开始执行类中定义的<br>    Java 程序代码。<br>6. 使用<br>7. 卸载</p>
<h3 id="Q2：描述一下-JVM-加载-Class-文件的原理机制"><a href="#Q2：描述一下-JVM-加载-Class-文件的原理机制" class="headerlink" title="Q2：描述一下 JVM 加载 Class 文件的原理机制?"></a>Q2：描述一下 JVM 加载 Class 文件的原理机制?</h3><p>本质：</p>
<p>jvm按需加载，基础的通过类加载器把类文件从磁盘读到内存。其它在new或者Class.forName()中加载。</p>
<p>类加载分5大步，7小步。5步：加载、链接、初始化、使用、卸载。7小步：链接细分为：验证、准备、解析。</p>
<h3 id="Q3：java内存分配"><a href="#Q3：java内存分配" class="headerlink" title="Q3：java内存分配"></a>Q3：java内存分配</h3><p><img src="C:%5CUsers%5CAdministrator%5CDesktop%5C%E9%9D%A2%E8%AF%95%E9%A2%98%5CScreenshot_5.png" alt=""></p>
<p><strong>程序计数器</strong>：当前线程所执行的字节码的行号指示器。</p>
<p><strong>Java虚拟机栈</strong>：每个方法在执行的同时会创建一个栈帧用于存储局部变量表、操作数栈、动态链接、方法出口等信息。</p>
<p><strong>堆</strong>：存放对象信息</p>
<p><strong>方法区</strong>：主要用于存储已被虚拟机加载的类信息、常量、静态变量、即时编译后的代码等数据。<strong>常量池</strong>：存放编译期生成的字面量和符号引用。</p>
<p><strong>直接内存</strong>：称堆外内存,并且java堆内存往外写需要拷贝到native堆。</p>
<p>JDK1.4后引入NIO类，是一种基于通道（Channel）与缓冲区（Buffer）的I/O方式，它可以使用Native函数库直接在堆外分配内存，然后通过存储在Java堆中的DirectByteBuffer对象作为引用对这块内存进行操作。这样能够显著提高性能，避免Java堆和Native堆中来回复制数据。</p>
<p>java堆内存首先拷贝到了直接内存，然后再把地址传给I/O函数。</p>
<p>操作系统I/O过程中，需要把数据从用户态拷贝到内核态，然后再输出到I/O设备，所以从java堆内存输出到I/O设备需经过两次拷贝，而direct memory在native 堆上，所以只需经过一次拷贝。</p>
<p><img src="C:%5CUsers%5CAdministrator%5CDesktop%5C%E9%9D%A2%E8%AF%95%E9%A2%98%5CScreenshot_1.png" alt=""></p>
<h3 id="Q4：Java-堆的结构是什么样子的？什么是堆中的永久代（Perm-Gen-space）"><a href="#Q4：Java-堆的结构是什么样子的？什么是堆中的永久代（Perm-Gen-space）" class="headerlink" title="Q4：Java 堆的结构是什么样子的？什么是堆中的永久代（Perm Gen space）?"></a>Q4：Java 堆的结构是什么样子的？什么是堆中的永久代（Perm Gen space）?</h3><p><img src="C:%5CUsers%5CAdministrator%5CDesktop%5C%E9%9D%A2%E8%AF%95%E9%A2%98%5C1138059-20181130162618631-464693933.jpg" alt=""></p>
<h3 id="Q5：GC-是什么-为什么要有-GC？"><a href="#Q5：GC-是什么-为什么要有-GC？" class="headerlink" title="Q5：GC 是什么? 为什么要有 GC？"></a>Q5：GC 是什么? 为什么要有 GC？</h3><p>GC 是垃圾收集的意思（GabageCollection）</p>
<p>为了自动回收内存。</p>
<h3 id="Q6：简述-Java-垃圾回收机制"><a href="#Q6：简述-Java-垃圾回收机制" class="headerlink" title="Q6：简述 Java 垃圾回收机制"></a>Q6：简述 Java 垃圾回收机制</h3><p>在 Java 中，程序员是不需要显示的去释放一个对象的内存的，而<br>是由虚拟机自行执行。在 JVM 中，有一个垃圾回收线程，它是低<br>优先级的，在正常情况下是不会执行的，只有在虚拟机空闲或者当<br>前堆内存不足时，才会触发执行，扫面那些没有被任何引用的对象，<br>并将它们添加到要回收的集合中，进行回收。</p>
<h3 id="Q7：如何判断一个对象是否存活？（或者-GC-对象的判定方法）"><a href="#Q7：如何判断一个对象是否存活？（或者-GC-对象的判定方法）" class="headerlink" title="Q7：如何判断一个对象是否存活？（或者 GC 对象的判定方法）"></a>Q7：如何判断一个对象是否存活？（或者 GC 对象的判定方法）</h3><p>两种方法：</p>
<ol>
<li>引用计数法</li>
<li>可达性算法（引用链法）</li>
</ol>
<p>引用计数法有一个缺陷就是无法解决循环引用问题</p>
<p>可达性算法的思想是：从一个被称为 GC Roots 的对象开始向下搜索，<br>如果一个对象到 GC Roots 没有任何引用链相连时，则说明此对<br>象不可用。</p>
<h3 id="Q8-在-Java-中可以作为-GC-Roots-的对象有哪些？"><a href="#Q8-在-Java-中可以作为-GC-Roots-的对象有哪些？" class="headerlink" title="Q8: 在 Java 中可以作为 GC Roots 的对象有哪些？"></a>Q8: 在 Java 中可以作为 GC Roots 的对象有哪些？</h3><p>•  虚拟机栈中引用的对象<br>•  方法区类静态属性引用的对象<br>•  方法区常量池引用的对象<br>•  本地方法栈 JNI 引用的对象</p>
<h3 id="Q9-垃圾回收的优点和原理。并考虑-2-种回收机制。"><a href="#Q9-垃圾回收的优点和原理。并考虑-2-种回收机制。" class="headerlink" title="Q9: 垃圾回收的优点和原理。并考虑 2 种回收机制。"></a>Q9: 垃圾回收的优点和原理。并考虑 2 种回收机制。</h3><p>1）自动回收内存。不需要手动释放。除了对象的引用有作用域，对象本身没有作用域了。GC可以防止内存泄漏。</p>
<p>2）回收机制有分代复制垃圾回收和标记垃圾回收，增量垃圾回收。</p>
<h3 id="Q10：Java-中会存在内存泄漏吗，请简单描述。"><a href="#Q10：Java-中会存在内存泄漏吗，请简单描述。" class="headerlink" title="Q10：Java 中会存在内存泄漏吗，请简单描述。"></a>Q10：Java 中会存在内存泄漏吗，请简单描述。</h3><p>所谓内存泄露就是指一个不再被程序使用的对象或变量一直被占据在内存中。</p>
<p>内存泄露的两个条件：无用，无法回收。</p>
<p>由于 Java 使用有向图的方式进行垃圾回收管理，可以消除引用循环的问题。</p>
<p>Java 中的内存泄露的情况：<strong>长生命周期的对象持有短生命周期对象的引用就很可能发生内存泄露，尽管短生命周期对象已经不再需要，但是因为长生命周期对象持有它的引用而导致不能被回收</strong>，这就是 Java 中内存泄露的发生场景。通俗地说，就是程序员可能创建了一个对象，以后一直不再使用这个对象，这个对象却一直被引用，即这个对象无用但是却无法被垃圾回收器回收的，这就是 java中可能出现内存泄露的情况，例如，缓存系统，我们加载了一个对象放在缓存中 (例如放在一个全局 map 对象中)，然后一直不再使用它，这个对象一直被缓存引用，但却不再被使用。</p>
<p>情况一：</p>
<p>如果一个外部类的实例对象的方法返回了一个内部类的实例对象，这个内部类对象被长期引用了，即使那个外部类实例对象不再被使用，但由于内部类持久外部类的实例对象，这个外部类对象将不会被垃圾回收，这也会造成内存泄露。</p>
<p>情况二：</p>
<p>当一个对象被存储进 HashSet 集合中以后，就不能修改这个对象中的那些参与计算哈希值的字段了，否则，对象修改后的哈希值与最初存储进 HashSet 集合中时的哈希值就不同了，在这种情况下，即使在 contains 方法使用该对象的当前引用作为的参数去 HashSet 集合中检索对象，也将返回找不<br>到对象的结果，这也会导致无法从 HashSet 集合中单独删除当前对象，造成内存泄露。</p>
<p>情况三：</p>
<p>拥有自愈的栈（push、pop再push）</p>
<h3 id="Q11：System-gc-和-Runtime-gc-会做什么事情？"><a href="#Q11：System-gc-和-Runtime-gc-会做什么事情？" class="headerlink" title="Q11：System.gc() 和 Runtime.gc() 会做什么事情？"></a>Q11：System.gc() 和 Runtime.gc() 会做什么事情？</h3><p>java.lang.System.gc()是java.lang.Runtime.getRuntime().gc()的简写,两者一样的功能。</p>
<p>呼叫java虚拟机的垃圾回收器运行回收内存的垃圾。建议JVM安排GC运行, 还有可能完全被拒绝.不建议使用。</p>
<h3 id="Q12：finalize-方法什么时候被调用？析构函数-finalization-的目的是什么？"><a href="#Q12：finalize-方法什么时候被调用？析构函数-finalization-的目的是什么？" class="headerlink" title="Q12：finalize() 方法什么时候被调用？析构函数 (finalization) 的目的是什么？"></a>Q12：finalize() 方法什么时候被调用？析构函数 (finalization) 的目的是什么？</h3><p>JNI（Java Native Interface）调用non-Java 程序（C 或 C++）， finalize() 的工作就是回收这部分的内存</p>
<p>垃圾回收器（garbage colector）决定回收某对象时，就会运行该对象的 finalize() 方法 但是在 Java 中很不幸，如果内存总是充足的，那么垃圾回收可能永远不会进行，也就是说 filalize() 可能永远不被执行</p>
<h3 id="Q13-什么是分布式垃圾回收（DGC）？它是如何工作的？"><a href="#Q13-什么是分布式垃圾回收（DGC）？它是如何工作的？" class="headerlink" title="Q13:什么是分布式垃圾回收（DGC）？它是如何工作的？"></a>Q13:什么是分布式垃圾回收（DGC）？它是如何工作的？</h3><p>DGC 叫做分布式垃圾回收。RMI 使用 DGC 来做自动垃圾回收。因为 RMI 包含了跨虚拟机的远程对象的引用，垃圾回收是很困难的。DGC 使用引用计数算法来给远程对象提供自动内存管理。</p>
<h3 id="Q14-简述-Java-内存分配与回收策略以及-Minor-GC-和-MajorGC"><a href="#Q14-简述-Java-内存分配与回收策略以及-Minor-GC-和-MajorGC" class="headerlink" title="Q14:简述 Java 内存分配与回收策略以及 Minor GC 和 MajorGC"></a>Q14:简述 Java 内存分配与回收策略以及 Minor GC 和 MajorGC</h3><p>•  对象优先在堆的 Eden 区分配<br>•  大对象直接进入老年代<br>•  长期存活的对象将直接进入老年代</p>
<p>当 Eden 区没有足够的空间进行分配时，虚拟机会执行一次Minor GC。Minor GC 通常发生在新生代的 Eden 区，在这个区的对象生存期短，往往发生 Gc 的频率较高，回收速度比较快；<br>Full GC/Major GC 发生在老年代，一般情况下，触发老年代 GC的时候不会触发 Minor GC，但是通过配置，可以在 Full GC 之前进行一次 Minor GC 这样可以加快老年代的回收速度。</p>
<h3 id="Q15-JVM-的永久代中会发生垃圾回收么？"><a href="#Q15-JVM-的永久代中会发生垃圾回收么？" class="headerlink" title="Q15:JVM 的永久代中会发生垃圾回收么？"></a>Q15:JVM 的永久代中会发生垃圾回收么？</h3><p>垃圾回收不会发生在永久代，如果永久代满了或者是超过了临界值，会触发完全垃圾回收（Full GC）。<br>注：Java 8 中已经移除了永久代，新加了一个叫做元数据区的native 内存区。</p>
<h3 id="Q16-Java-中垃圾收集的方法有哪些？"><a href="#Q16-Java-中垃圾收集的方法有哪些？" class="headerlink" title="Q16:Java 中垃圾收集的方法有哪些？"></a>Q16:Java 中垃圾收集的方法有哪些？</h3><p>标记 - 清除</p>
<p>复制算法</p>
<p>标记 - 整理</p>
<p>分代收集</p>
<h3 id="Q17：什么是类加载器，类加载器有哪些？"><a href="#Q17：什么是类加载器，类加载器有哪些？" class="headerlink" title="Q17：什么是类加载器，类加载器有哪些？"></a>Q17：什么是类加载器，类加载器有哪些？</h3><p>主要有一下四种类加载器：<br>•  启动类加载器（Bootstrap ClassLoader）用来加载 Java 核心类库，无法被 Java 程序直接引用。<br>•  扩展类加载器（extensions class loader）：它用来加载 Java的扩展库。Java 虚拟机的实现会提供一个扩展库目录。该类加载器在此目录里面查找并加载 Java 类。<br>•  系统类加载器（system class loader）：它根据 Java 应用的类路径（CLASSPATH）来加载 Java 类。一般来说，Java应用的类都是由它来完成加载的。可以通过ClassLoader.getSystemClassLoader() 来获取它。<br>•  用户自定义类加载器，通过继承 java.lang.ClassLoader 类的方式实现。</p>
<h3 id="Q18：类加载器双亲委派模型机制？"><a href="#Q18：类加载器双亲委派模型机制？" class="headerlink" title="Q18：类加载器双亲委派模型机制？"></a>Q18：类加载器双亲委派模型机制？</h3><p>当一个类收到了类加载请求时，不会自己先去加载这个类，而是将其委派给父类，由父类去加载，如果此时父类不能加载，反馈给子类，由子类去完成类的加载。</p>

  </div>
  <!--文末结束语-->
  
    <div style="text-align:center;color: #ccc;font-size:24px;"> --- 本文结束 <i class="iconfont icon-heartbeat" style="font-size:24px;"></i> The End --- </div>
  
  <!--页脚广告-->
  
  <div class="mdui-divider"></div>
  
  <nav>
    
      <a rel="prev" class="post-nav-item mdui-float-left" href="/2020/06/29/Mysql5.7%E4%B8%AD%E6%96%87%E5%8F%82%E8%80%83%E6%8C%87%E5%8D%97/">
        <i class="iconfont icon-angle-left"></i>
        <span>Mysql5.7中文参考指南</span>
      </a>
    
    
      <a rel="next" class="post-nav-item mdui-float-right" href="/2020/06/29/%E6%90%9C%E7%B4%A2%E5%88%A9%E5%99%A8ElatsicsSearch/">
        <span>搜索利器ElatsicsSearch</span>
        <i class="iconfont icon-angle-right"></i>
      </a>
    
  </nav>
</article>




  <div class="toc-button"  style="z-index: 100;">
    <button class="mdui-fab mdui-ripple mdui-color-teal" mdui-menu="{target: '#toc'}"><i class="iconfont icon-list"></i></button>
    <ul class="mdui-menu" id="toc">
      <li class="mdui-menu-item">
        <a href="/2020/06/29/JVM%E9%9D%A2%E8%AF%95%E9%A2%98/" id="toc-header" class="mdui-ripple">文章目录</a>
        <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Q1：Java类加载过程？"><span class="toc-number">1.</span> <span class="toc-text">Q1：Java类加载过程？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q2：描述一下-JVM-加载-Class-文件的原理机制"><span class="toc-number">2.</span> <span class="toc-text">Q2：描述一下 JVM 加载 Class 文件的原理机制?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q3：java内存分配"><span class="toc-number">3.</span> <span class="toc-text">Q3：java内存分配</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q4：Java-堆的结构是什么样子的？什么是堆中的永久代（Perm-Gen-space）"><span class="toc-number">4.</span> <span class="toc-text">Q4：Java 堆的结构是什么样子的？什么是堆中的永久代（Perm Gen space）?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q5：GC-是什么-为什么要有-GC？"><span class="toc-number">5.</span> <span class="toc-text">Q5：GC 是什么? 为什么要有 GC？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q6：简述-Java-垃圾回收机制"><span class="toc-number">6.</span> <span class="toc-text">Q6：简述 Java 垃圾回收机制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q7：如何判断一个对象是否存活？（或者-GC-对象的判定方法）"><span class="toc-number">7.</span> <span class="toc-text">Q7：如何判断一个对象是否存活？（或者 GC 对象的判定方法）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q8-在-Java-中可以作为-GC-Roots-的对象有哪些？"><span class="toc-number">8.</span> <span class="toc-text">Q8: 在 Java 中可以作为 GC Roots 的对象有哪些？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q9-垃圾回收的优点和原理。并考虑-2-种回收机制。"><span class="toc-number">9.</span> <span class="toc-text">Q9: 垃圾回收的优点和原理。并考虑 2 种回收机制。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q10：Java-中会存在内存泄漏吗，请简单描述。"><span class="toc-number">10.</span> <span class="toc-text">Q10：Java 中会存在内存泄漏吗，请简单描述。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q11：System-gc-和-Runtime-gc-会做什么事情？"><span class="toc-number">11.</span> <span class="toc-text">Q11：System.gc() 和 Runtime.gc() 会做什么事情？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q12：finalize-方法什么时候被调用？析构函数-finalization-的目的是什么？"><span class="toc-number">12.</span> <span class="toc-text">Q12：finalize() 方法什么时候被调用？析构函数 (finalization) 的目的是什么？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q13-什么是分布式垃圾回收（DGC）？它是如何工作的？"><span class="toc-number">13.</span> <span class="toc-text">Q13:什么是分布式垃圾回收（DGC）？它是如何工作的？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q14-简述-Java-内存分配与回收策略以及-Minor-GC-和-MajorGC"><span class="toc-number">14.</span> <span class="toc-text">Q14:简述 Java 内存分配与回收策略以及 Minor GC 和 MajorGC</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q15-JVM-的永久代中会发生垃圾回收么？"><span class="toc-number">15.</span> <span class="toc-text">Q15:JVM 的永久代中会发生垃圾回收么？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q16-Java-中垃圾收集的方法有哪些？"><span class="toc-number">16.</span> <span class="toc-text">Q16:Java 中垃圾收集的方法有哪些？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q17：什么是类加载器，类加载器有哪些？"><span class="toc-number">17.</span> <span class="toc-text">Q17：什么是类加载器，类加载器有哪些？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Q18：类加载器双亲委派模型机制？"><span class="toc-number">18.</span> <span class="toc-text">Q18：类加载器双亲委派模型机制？</span></a></li></ol>
      </li>
    </ul>
  </div>



    <div id="comment" class="mdui-card mdui-p-a-2 mdui-m-b-5">
      <div class="mdui-tab" mdui-tab>
        
          <a href="#comment-tab0" class="mdui-ripple">gitalk</a>
        
          <a href="#comment-tab1" class="mdui-ripple">livere</a>
        
      </div>
      
        <div id="comment-tab0" class="mdui-p-a-2">
          <div id="gitalk-container"></div>
<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/js-md5@0.7.3/src/md5.min.js"></script>
<script>
  var gitalk = new Gitalk({
    clientID: '',
    clientSecret: '',
    repo: '',
    owner: '',
    admin: [''],
    id:  md5(location.pathname) ,
    distractionFreeMode: 'true',
  });
  gitalk.render('gitalk-container');
</script>
        </div>
      
        <div id="comment-tab1" class="mdui-p-a-2">
          <div id="lv-container" data-id="city" data-uid="">
  <script type="text/javascript">
    (function (d, s) {
      var j, e = d.getElementsByTagName(s)[0];
      if (typeof LivereTower === 'function') { return; }
      j = d.createElement(s);
      j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
      j.async = true;
      e.parentNode.insertBefore(j, e);
    })(document, 'script');
  </script>
  <noscript>Please enable JavaScript to view the comments powered by LiveRe.</noscript>
</div>
        </div>
      
    </div>

  </main>
  <footer id="footer" class="mdui-text-center mdui-m-t-5 mdui-p-b-2 mdui-p-t-4 mdui-color-theme">
  <div class="mdui-container">
    <div class="mdui-row">
      
        <a href="http://www.beian.miit.gov.cn" rel="noopener" target="_blank"></a>
      
      <span>
        &copy; 2015 - 2020 
        
          <span style="color:#d9333f" class="iconfont icon-heart"></span>
        
        John Doe
      </span>
    </div>
    <div class="mdui-row">
      
        <div class="mdui-col-xs-6 mdui-text-right">
          <span>Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a></span>
        </div>
        <div class="mdui-col-xs-6 mdui-text-left">
          <span>Theme: <a href="https://github.com/kb1000fx/Meadow" rel="noopener" target="_blank">Meadow</a></span>
        </div>
      
    </div>
    <div class="mdui-row">
      
        <div class="mdui-col-xs-6 mdui-text-right">
          <span id="busuanzi_container_site_uv" style="display: none;"> <span class="iconfont icon-user"></span>总访客量 <span id="busuanzi_value_site_uv"></span></span>
        </div>
        <div class="mdui-col-xs-6 mdui-text-left">
          <span id="busuanzi_container_site_pv" style="display: none;"> <span class="iconfont icon-eye"></span>总访问量 <span id="busuanzi_value_site_pv"></span></span>
        </div>
      
    </div>
 </div>
</footer>
  
  <button id="gotop" class="mdui-fab mdui-fab-fixed mdui-fab-hide mdui-ripple mdui-color-teal" style="z-index:100;"><i class="iconfont icon-arrowup"></i></button>
  
  

    <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




    <script src="https://cdn.jsdelivr.net/npm/mermaid@8.4.8/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({
        startOnLoad: true,
        theme: "default"
    });</script>




<script src="/js/mdui.min.js"></script>
<script src="/js/meadow.js"></script>

</body>
</html >